<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JACO Gallery - Arte Contemporáneo</title>
    
    <!-- Tailwind CSS --><script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Inter --><link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Favicon --><link rel="icon" href="https://placehold.co/32x32/b91c1c/ffffff?text=J&font=inter" type="image/png">

    <style>
        /* Tipografía base y colores */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #fafaf9; /* stone-50 (Beige/Gris claro cálido) */
            color: #292524; /* stone-800 (Marrón oscuro) */
        }

        /* Hero Background */
        .hero-bg {
            background-image: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('https://images.unsplash.com/photo-1536924940846-222ab723bf93?q=80&w=2574&auto:format&fit=crop');
            background-size: cover;
            background-position: center;
        }

        /* Animación de entrada */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeInSimple {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .animate-fade-in {
            animation: fadeIn 1s ease-out forwards;
        }
        
        /* Asegurarnos que los elementos observados inicien invisibles */
        .js-observe {
            opacity: 0;
        }

        .animate-fade-in-simple {
            animation: fadeInSimple 0.5s ease-out forwards;
        }

        /* Estilos de botones de filtro */
        .filter-btn {
            transition: all 0.3s ease;
        }

        .filter-btn.active {
            background-color: #b91c1c; /* red-700 */
            color: white;
            border-color: #b91c1c;
        }
        
        /* Header con efecto 'glass' al hacer scroll */
        .header-glass {
            background: rgba(250, 250, 249, 0.8); /* bg-stone-50/80 */
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }
        
        /* Ocultar scrollbar (horizontal en estilos) */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }

        /* Estilos para Pestañas (Tabs) Horizontales */
        .tab-btn {
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            font-weight: 600;
            color: #78716c; /* stone-500 */
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
        }
        .tab-btn:hover {
            color: #292524; /* stone-800 */
        }
        .tab-btn.active {
            color: #b91c1c; /* red-700 */
            border-bottom-color: #b91c1c;
        }
        .tab-content {
            padding-top: 1.5rem;
        }

        /* Nuevos estilos para Pestañas Verticales */
        .v-tab-btn {
            padding: 0.75rem 1rem;
            font-size: 1rem;
            font-weight: 500;
            color: #78716c; /* stone-500 */
            border-right: 3px solid transparent;
            text-align: left;
            transition: all 0.3s ease;
            border-radius: 4px 0 0 4px;
        }
        .v-tab-btn:hover {
            color: #292524; /* stone-800 */
            background-color: #f5f5f4; /* stone-100 */
        }
        .v-tab-btn.active {
            color: #b91c1c; /* red-700 */
            font-weight: 700;
            border-right-color: #b91c1c;
            background-color: #f5f5f4; /* stone-100 */
        }
        .v-tab-content {
            animation: fadeInSimple 0.5s ease-out forwards;
        }
        
        /* NUEVOS Estilos para Carrusel de Servicios */
        .carousel-container {
            position: relative;
            overflow: hidden;
            border-radius: 0.5rem; /* rounded-lg */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); /* shadow-md */
            background-color: #f5f5f4; /* stone-100, fondo para object-contain */
        }
        .carousel-track {
            display: flex;
            transition: transform 0.5s ease-in-out;
            height: 100%;
        }
        .carousel-slide {
            flex-shrink: 0;
            width: 100%;
            height: 100%;
        }
        .carousel-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            z-index: 10;
            background-color: rgba(0, 0, 0, 0.4);
            color: white;
            border-radius: 9999px; /* rounded-full */
            width: 3rem; /* w-12 */
            height: 3rem; /* h-12 */
            font-size: 1.5rem; /* text-2xl */
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .carousel-btn:hover {
            background-color: rgba(0, 0, 0, 0.7);
        }
        .carousel-btn.prev {
            left: 1rem; /* left-4 */
        }
        .carousel-btn.next {
            right: 1rem; /* right-4 */
        }
        .carousel-dots {
            position: absolute;
            bottom: 1rem; /* bottom-4 */
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 0.5rem; /* space-x-2 */
            z-index: 10;
        }
        .carousel-dot {
            width: 0.75rem; /* w-3 */
            height: 0.75rem; /* h-3 */
            border-radius: 9999px; /* rounded-full */
            background-color: rgba(255, 255, 255, 0.6);
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .carousel-dot.active {
            background-color: white;
        }

        /* Animación para el botón flotante de WhatsApp */
        @keyframes pulse-green {
            0% { box-shadow: 0 0 0 0 rgba(37, 211, 102, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(37, 211, 102, 0); }
            100% { box-shadow: 0 0 0 0 rgba(37, 211, 102, 0); }
        }
        .whatsapp-float {
            animation: pulse-green 2s infinite;
        }

    </style>
</head>
<body class="overflow-x-hidden">

    <!-- Header --><header id="header" class="fixed top-0 left-0 right-0 z-50 transition-all duration-300">
        <nav class="container mx-auto px-6 py-5 flex justify-between items-center">
            <!-- Logo --><a href="#" id="logo-container">
                <img src="https://raw.githubusercontent.com/MartyDuran/JACO_Images/refs/heads/main/Logo%202.jpg" alt="JACO Gallery Logo" class="h-20 transition-all duration-300">
            </a>
            <!-- Links de Navegación (Desktop) --><div class="hidden md:flex items-center space-x-8">
                <a href="#inicio" class="text-white hover:text-red-700 transition-colors duration-300" id="nav-link-1">Inicio</a>
                <a href="#esencia" class="text-white hover:text-red-700 transition-colors duration-300" id="nav-link-esencia">Esencia</a>
                <a href="#historia" class="text-white hover:text-red-700 transition-colors duration-300" id="nav-link-historia">Historia</a>
                <a href="#artistas" class="text-white hover:text-red-700 transition-colors duration-300" id="nav-link-artistas">Artistas</a>
                <a href="#nosotros" class="text-white hover:text-red-700 transition-colors duration-300" id="nav-link-2">Nosotros</a>
                <a href="#servicios" class="text-white hover:text-red-700 transition-colors duration-300" id="nav-link-servicios">Productos y Servicios</a>
                <a href="#catalogo" class="text-white hover:text-red-700 transition-colors duration-300" id="nav-link-3">Catálogo</a>
                <a href="#contacto" class="bg-red-700 hover:bg-red-800 text-white font-medium py-2 px-5 rounded-lg shadow-lg transition-all duration-300 hover:shadow-xl">Contacto</a>
            </div>
            <!-- Botón de Menú Móvil --><button id="mobile-menu-button" class="md:hidden text-white transition-colors duration-300">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16m-7 6h7" />
                </svg>
            </button>
        </nav>
        <!-- Menú Móvil --><div id="mobile-menu" class="hidden md:hidden bg-white shadow-xl">
            <a href="#inicio" class="block text-stone-700 text-center py-3 px-4 hover:bg-stone-50">Inicio</a>
            <a href="#esencia" class="block text-stone-700 text-center py-3 px-4 hover:bg-stone-50">Esencia</a>
            <a href="#historia" class="block text-stone-700 text-center py-3 px-4 hover:bg-stone-50">Historia</a>
            <a href="#artistas" class="block text-stone-700 text-center py-3 px-4 hover:bg-stone-50">Artistas</a>
            <a href="#nosotros" class="block text-stone-700 text-center py-3 px-4 hover:bg-stone-50">Nosotros</a>
            <a href="#servicios" class="block text-stone-700 text-center py-3 px-4 hover:bg-stone-50">Productos y Servicios</a>
            <a href="#catalogo" class="block text-stone-700 text-center py-3 px-4 hover:bg-stone-50">Catálogo</a>
            <a href="#contacto" class="block text-stone-700 text-center py-3 px-4 hover:bg-stone-50">Contacto</a>
        </div>
    </header>

    <!-- Contenido Principal --><main>

        <!-- Sección Hero --><section id="inicio" class="h-screen w-full hero-bg flex items-center justify-center text-white">
            <div class="text-center max-w-3xl mx-auto px-4">
                <h1 class="text-5xl md:text-7xl font-extrabold mb-4 opacity-0 animate-fade-in" style="animation-delay: 0.2s;">Mi Filosofía Hecha Arte</h1>
                <p class="text-xl md:text-2xl text-gray-200 mb-8 opacity-0 animate-fade-in" style="animation-delay: 0.5s;">Obras que transforman espacios residenciales y empresariales.</p>
                <a href="#catalogo" class="bg-red-700 hover:bg-red-800 text-white font-semibold py-3 px-8 rounded-lg text-lg shadow-lg transition-all duration-300 hover:shadow-xl hover:scale-105 transform inline-block opacity-0 animate-fade-in" style="animation-delay: 0.8s;">Explorar Colección</a>
            </div>
        </section>

        <!-- Sección "Nuestra Esencia" --><section id="esencia" class="py-24 md:py-32 bg-stone-50">
            <div class="container mx-auto px-6 js-observe">
                <div class="flex flex-col md:flex-row items-center gap-16">
                    <div class="md:w-1/2">
                        <h2 class="text-base font-semibold text-red-700 uppercase tracking-wider">Nuestra Esencia</h2>
                        <h3 class="text-4xl md:text-5xl font-extrabold text-stone-900 mt-3 mb-6">Pasión por el Arte</h3>
                        <p class="text-lg text-stone-700 mb-4 leading-relaxed">
                            <strong>JACO Gallery</strong>, nace en el corazón de Monterrey, agrupando a artistas plásticos que han participado en más de 64 exposiciones colectivas.
                        </p>
                        <p class="text-lg text-stone-700 leading-relaxed">
                            Impartimos talleres de arte a lo largo de la República Mexicana y hemos llevado nuestras exposiciones a diferentes lugares del mundo, compartiendo la pasión y el talento de nuestros creadores.
                        </p>
                    </div>
                    <div class="md:w-1/2">
                        <!-- Imagen representativa --><img src="https://images.unsplash.com/photo-1547891654-e66ed7ebb968?q=80&w=2670&auto:format&fit=crop" alt="Interior de Galería JACO" class="rounded-lg shadow-2xl object-cover w-full h-full aspect-square">
                    </div>
                </div>
            </div>
        </section>

        <!-- NUEVA SECCIÓN: Historia y Fundador --><section id="historia" class="py-24 md:py-32 bg-white">
            <div class="container mx-auto px-6 js-observe">
                <div class="flex flex-col md:flex-row items-center gap-16">
                    <!-- Imagen del Fundador --><div class="md:w-1/4">
                        <img src="https://raw.githubusercontent.com/MartyDuran/JACO_Images/refs/heads/main/JACO%20pintando.jpeg" alt="Retrato del Fundador Joaquin Corona" class="rounded-lg shadow-2xl object-cover w-full h-full aspect-[3/4]">
                    </div>
                    <!-- Semblanza / Texto --><div class="md:w-3/4">
                        <h2 class="text-base font-semibold text-red-700 uppercase tracking-wider">El Fundador</h2>
                        <h3 class="text-4xl md:text-5xl font-extrabold text-stone-900 mt-3 mb-6">Joaquin Corona</h3>
                        <p class="text-xl text-stone-700 mb-6 leading-relaxed italic">
                            "El arte no es solo lo que ves, sino lo que haces que otros vean. Mi filosofía es crear piezas que no solo decoren un espacio, sino que inicien una conversación."
                        </p>
                        <p class="text-lg text-stone-700 mb-4 leading-relaxed">
                            <strong>Joaquin "Jaco" Corona</strong>, el alma y visión detrás de JACO Gallery, es un aclamado artista plástico con una trayectoria de más de dos décadas. Su pasión por la textura, el color y la forma lo ha llevado a explorar los límites del arte contemporáneo, desde el realismo más puro hasta la abstracción más provocativa.
                        </p>
                        <p class="text-lg text-stone-700 leading-relaxed">
                            Fundó JACO Gallery con la misión de tender un puente entre el arte empresarial y la sensibilidad humana, creyendo firmemente que un entorno laboral inspirador es clave para la productividad y el bienestar. Su semblanza se define por una búsqueda incansable de la belleza en lo cotidiano y su compromiso por hacer el arte accesible y significativo para todos.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- NUEVA SECCIÓN: Artistas (DINÁMICA) --><section id="artistas" class="py-24 md:py-32 bg-stone-50">
            <div class="container mx-auto px-6 js-observe">
                <div class="text-center mb-16">
                    <h2 class="text-base font-semibold text-red-700 uppercase tracking-wider">Nuestros Creadores</h2>
                    <h3 class="text-4xl md:text-5xl font-extrabold text-stone-900 mt-3">Conoce a los Artistas</h3>
                </div>
                <!-- Contenedor para los artistas --><div id="artistas-container" class="space-y-16">
                    
                    <!-- Los perfiles de los artistas se cargarán dinámicamente aquí --><p id="artistas-loading" class="text-lg text-stone-600 text-center">Cargando artistas...</p>

                </div>
            </div>
        </section>

        <!-- SECCIÓN "Un Universo de Estilos" ELIMINADA -->
        
        <!-- Sección "Nosotros" con Pestañas --><section id="nosotros" class="py-24 md:py-32 bg-stone-50"> <!-- Color de fondo alternado --><div class="container mx-auto px-6 js-observe">
                <div class="text-center mb-16">
                    <h2 class="text-base font-semibold text-red-700 uppercase tracking-wider">Nuestra Galería</h2>
                    <h3 class="text-4xl md:text-5xl font-extrabold text-stone-900 mt-3">Filosofía y Compromiso</h3>
                </div>
                
                <div class="max-w-4xl mx-auto js-observe">
                    <!-- Contenedor de Botones de Pestañas --><div id="tab-buttons" class="flex flex-wrap justify-center border-b border-stone-200">
                        <button class="tab-btn active" data-tab="quienes-somos">Quiénes Somos</button>
                        <button class="tab-btn" data-tab="mision">Misión</button>
                        <button class="tab-btn" data-tab="vision">Visión</button>
                        <button class="tab-btn" data-tab="valores">Valores</button>
                    </div>

                    <!-- Contenedor de Contenido de Pestañas --><div id="tab-content-container" class="mt-8 text-lg text-stone-700 leading-relaxed">
                        <!-- Quiénes Somos --><div id="tab-quienes-somos" class="tab-content animate-fade-in-simple">
                            <p>Somos una Galería de Arte Virtual innovadora que produce obras de arte, pinturas al óleo modernas en diferentes estilos (Abstracto, Figurativo, Realismo, Retrato, Cubismo, Paisaje, Impresionismo, Surrealismo y Ecléctico), con amplios conocimientos técnicos de las artes plásticas.</p>
                            <p class="mt-4">Ofrecemos una amplia gama de productos de alta calidad a precios muy competitivos. Nos respalda un equipo que se caracteriza por su trato cordial y espíritu de servicio.</p>
                        </div>
                        <!-- Misión --><div id="tab-mision" class="tab-content hidden animate-fade-in-simple">
                            <p>Ser referencia en obras de ARTE EMPRESARIAL Y RESIDENCIAL de alta calidad en el mercado, convertir la filosofía de las Empresas en ocho diferentes estilos de arte que hablen de su Misión, Visión y Valores, que conmuevan al espectador conectándolo con el ADN que impregnó el fundador de la empresa con la la que colaboran.</p>
                            <p class="mt-4">Dar la mejor calidad existente a precios económicos mediante la venta y renta. Crear e innovar de forma permanente cualquier filosofía empresarial y personal.</p>
                        </div>
                        <!-- Visión --><div id="tab-vision" class="tab-content hidden animate-fade-in-simple">
                            <p>Ser icono y pionero en el Arte Corporativo en México y el mundo en las primeras décadas del siglo XXI.</p>
                            <p class="mt-4">Contribuir a la productividad empresarial mediante la promoción y difusión de obras de Arte Empresarial que muestren Valores y Principios para elevar al ser humano, teniendo como resultado mayor prestigio, respeto y estatus.</p>
                        </div>
                        <!-- Valores --><div id="tab-valores" class="tab-content hidden animate-fade-in-simple">
                            <ul class="space-y-4">
                                <li><strong>Compromiso:</strong> Estamos comprometidos en mejorar nuestro país y las empresas mediante pinturas de arte que fortalezcan los Valores y Principios del ser humano en la etapa productiva de su vida.</li>
                                <li><strong>Calidad:</strong> Nuestra es la responsabilidad de hacer las cosas mejor que nadie en el ámbito del ARTE EMPRESARIAL para llegar al alma de las personas con el estándar más elevado de calidad.</li>
                                <li><strong>Servicio:</strong> Brindar atención personalizada para entender y atender la filosofía de las Empresas, y acostumbrar a nuestros clientes a las más altas expectativas en el arte moderno empresarial.</li>
                                <li><strong>Innovación:</strong> Todas nuestras obras son únicas, originales y personalizadas, creadas con nuestro sello distintivo. La innovación y creatividad constante hacia la filosofía de nuestro cliente es nuestra prioridad.</li>
                                <li><strong>Confianza:</strong> En cada pintura nos hemos dado la tarea de cumplir lo que prometemos en nuestra Misión, Visión y eslogan: “Mi filosofía hecha Arte” para ganarnos la valiosa confianza y respeto de nuestros clientes.</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- NUEVA SECCIÓN: Productos y Servicios (Contenido dinámico desde Firebase) --><section id="servicios" class="py-24 md:py-32 bg-stone-50"> <!-- Color de fondo alternado --><div class="container mx-auto px-6 js-observe">
                <div class="text-center mb-16">
                    <h2 class="text-base font-semibold text-red-700 uppercase tracking-wider">Lo Que Hacemos</h2>
                    <h3 class="text-4xl md:text-5xl font-extrabold text-stone-900 mt-3">Productos y Servicios</h3>
                </div>

                <div class="flex flex-col md:flex-row max-w-7xl mx-auto">
                    <!-- Contenedor de Botones Verticales (Se llenará dinámicamente) --><div id="v-tab-buttons" class="flex flex-col md:w-1/4 space-y-2 md:pr-8 mb-8 md:mb-0">
                        <!-- Los botones se generarán aquí por JS --></div>

                    <!-- Contenedor de Contenido Vertical (Se llenará dinámicamente) --><div id="v-tab-content-container" class="md:w-3/4 md:pl-8">
                        <!-- El contenido se generará aquí por JS --><p id="servicios-loading" class="text-lg text-stone-600">Cargando productos y servicios desde la base de datos...</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Sección "Catálogo" --><section id="catalogo" class="py-24 md:py-32 bg-white"> <!-- Color de fondo alternado --><div class="container mx-auto px-6 js-observe">
                <div class="text-center mb-16">
                    <h2 class="text-base font-semibold text-red-700 uppercase tracking-wider">Obras Destacadas</h2>
                    <h3 class="text-4xl md:text-5xl font-extrabold text-stone-900 mt-3">Explora el Catálogo</h3>
                </div>

                <!-- Botones de Filtro (ACTUALIZADOS) --><div id="filter-container" class="flex flex-wrap justify-center gap-3 mb-12 js-observe">
                    <button class="filter-btn active border-2 border-stone-300 text-stone-700 font-semibold py-2 px-6 rounded-full" data-filter="all">Todos</button>
                    <button class="filter-btn border-2 border-stone-300 text-stone-700 font-semibold py-2 px-6 rounded-full" data-filter="abstracto">Abstracto</button>
                    <button class="filter-btn border-2 border-stone-300 text-stone-700 font-semibold py-2 px-6 rounded-full" data-filter="cubismo">Cubismo</button>
                    <button class="filter-btn border-2 border-stone-300 text-stone-700 font-semibold py-2 px-6 rounded-full" data-filter="eclectico">Ecléctico</button>
                    <button class="filter-btn border-2 border-stone-300 text-stone-700 font-semibold py-2 px-6 rounded-full" data-filter="figurativo">Figurativo</button>
                    <button class="filter-btn border-2 border-stone-300 text-stone-700 font-semibold py-2 px-6 rounded-full" data-filter="paisaje">Paisaje</button>
                    <button class="filter-btn border-2 border-stone-300 text-stone-700 font-semibold py-2 px-6 rounded-full" data-filter="realismo">Realismo</button>
                    <button class="filter-btn border-2 border-stone-300 text-stone-700 font-semibold py-2 px-6 rounded-full" data-filter="retrato">Retrato</button>
                </div>


                <!-- Grid de la Galería (DINÁMICO) --><div id="gallery-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                    
                    <!-- Obras de arte cargadas desde Firebase aparecerán aquí --><p id="catalogo-loading" class="text-lg text-stone-600 col-span-full text-center">Cargando catálogo desde la base de datos...</p>

                </div>
            </div>
        </section>

         <!-- Sección CTA (Call to Action) --><section class="py-24 md:py-32 bg-stone-800 text-white js-observe">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-4xl font-extrabold mb-4">¿Buscas algo a la medida?</h2>
                <p class="text-lg text-stone-300 mb-8 max-w-2xl mx-auto">Nuestros artistas pueden crear una obra comisionada que capture tu visión y se adapte perfectamente a tu espacio.</p>
                <a href="#contacto" class="bg-white hover:bg-stone-100 text-stone-800 font-semibold py-3 px-8 rounded-lg text-lg shadow-lg transition-all duration-300 hover:shadow-xl hover:scale-105 transform inline-block">Contacta para una cotizacion especial</a>
            </div>
        </section>


        <!-- Sección Contacto --><section id="contacto" class="py-24 md:py-32 bg-stone-50">
            <div class="container mx-auto px-6 js-observe">
                <div class="text-center mb-16">
                    <h2 class="text-base font-semibold text-red-700 uppercase tracking-wider">Hablemos</h2>
                    <h3 class="text-4xl md:text-5xl font-extrabold text-stone-900 mt-3">Hablemos de Arte</h3>
                    <p class="text-lg text-stone-600 max-w-2xl mx-auto mt-4">Estamos aquí para asesorarte. Contáctanos para adquirir una obra, comisionar un proyecto o simplemente para conversar.</p>
                </div>
                
                <div class="max-w-5xl mx-auto flex flex-col md:flex-row gap-10 bg-white p-8 md:p-12 rounded-lg shadow-xl js-observe">
                    <!-- Información de Contacto --><div class="md:w-1/2">
                        <h3 class="text-3xl font-bold mb-6 text-stone-900">Información</h3>
                        <div class="space-y-6 text-stone-700">
                             <div class="flex items-start">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-4 text-red-700 flex-shrink-0 mt-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0zM15 11a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
                                <div>
                                    <h4 class="font-semibold text-lg text-stone-900">Ubicación</h4>
                                    <p class="text-lg">Monterrey, N.L., México</p>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-4 text-red-700 flex-shrink-0 mt-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/></svg>
                                <div>
                                    <h4 class="font-semibold text-lg text-stone-900">Atención Personalizada</h4>
                                    <p class="text-lg">Samuel Reyes</p>
                                    <!-- ENLACE A WHATSAPP (Opción 2: Enlace directo) -->
                                    <a href="https://wa.me/528117640430" target="_blank" class="text-lg hover:text-green-600 transition-colors flex items-center">
                                        Cel. 81 1764 0430
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-2 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" /></svg>
                                    </a>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-4 text-red-700 flex-shrink-0 mt-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg>
<div>
                                    <h4 class="font-semibold text-lg text-stone-900">Email</h4>
                                    <p class="text-lg">contacto:marty.duran11@gmail.com</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Formulario de Contacto -->
                    <div class="md:w-1/2">
                         <h3 class="text-3xl font-bold mb-6 text-stone-900">Enviar un Mensaje</h3>
                        <!-- Agregado id="contact-form" para la funcionalidad de mailto -->
                        <form id="contact-form">
                            <div class="mb-5">
                                <label for="name" class="block mb-2 text-sm font-medium text-stone-700">Nombre</label>
                                <input type="text" id="name" name="name" class="block w-full p-3 text-stone-900 border border-stone-300 rounded-lg bg-white focus:ring-red-500 focus:border-red-500 transition" placeholder="Tu Nombre Completo" required>
                            </div>
                            <div class="mb-5">
                                <label for="email" class="block mb-2 text-sm font-medium text-stone-700">Email</label>
                                <input type="email" id="email" name="email" class="block w-full p-3 text-stone-900 border border-stone-300 rounded-lg bg-white focus:ring-red-500 focus:border-red-500 transition" placeholder="tu@email.com" required>
                            </div>
                            <div class="mb-5">
                                <label for="message" class="block mb-2 text-sm font-medium text-stone-700">Mensaje</label>
                                <textarea id="message" name="message" rows="5" class="block w-full p-3 text-stone-900 border border-stone-300 rounded-lg bg-white focus:ring-red-500 focus:border-red-500 transition" placeholder="¿En qué podemos ayudarte?" required></textarea>
                            </div>
                            <div class="flex flex-col sm:flex-row gap-4">
                                <button type="submit" class="flex-1 text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-bold rounded-lg text-lg px-5 py-3 text-center transition-all duration-300 hover:scale-105 transform">Enviar por Correo</button>
                                <!-- Botón secundario de WhatsApp -->
                                <button type="button" id="btn-send-whatsapp" class="flex-1 text-white bg-green-500 hover:bg-green-600 focus:ring-4 focus:outline-none focus:ring-green-300 font-bold rounded-lg text-lg px-5 py-3 text-center transition-all duration-300 hover:scale-105 transform flex items-center justify-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" class="mr-2"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372-.272.297-1.04 1.017-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>
                                    WhatsApp
                                </button>
                            </div>
                            <!-- Mensaje de éxito (Oculto por defecto) -->
                            <div id="form-response" class="hidden mt-4 text-green-600 font-bold text-center text-lg"></div>
                        </form>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- BOTÓN FLOTANTE DE WHATSAPP (Opción 1) -->
    <!-- NOTA: Movido a la izquierda (left-6) para no tapar el chat de Botpress -->
    <a href="https://wa.me/528117640430?text=Hola%20JACO%20Gallery,%20quisiera%20más%20información." class="fixed bottom-6 left-6 bg-green-500 hover:bg-green-600 text-white p-4 rounded-full shadow-2xl z-[60] transition-all duration-300 hover:scale-110 flex items-center justify-center whatsapp-float" target="_blank" rel="noopener noreferrer" aria-label="Chat en WhatsApp">
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="currentColor"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372-.272.297-1.04 1.017-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>
    </a>

    <!-- Footer --><footer class="bg-stone-900 text-white">
        <div class="container mx-auto px-6 py-12 text-center">
            <a href="#" class="mb-4 inline-block">
                <img src="https://raw.githubusercontent.com/MartyDuran/JACO_Images/refs/heads/main/Logo%202.jpg" alt="JACO Gallery Logo" class="h-16 mx-auto">
            </a>
            <p class="mb-6 text-stone-400">Mi Filosofía Hecha Arte.</p>
            
            <!-- Redes Sociales -->
            <div class="flex justify-center space-x-6 mb-8">
                <a href="https://www.facebook.com/jack.corona.735" target="_blank" rel="noopener noreferrer" class="transform hover:scale-110 transition-transform duration-300">
                    <!-- Se asume que 'facebook.png' está en la carpeta raíz de tu proyecto -->
                    <img src="facebook.png" alt="Síguenos en Facebook" class="h-8 w-8">
                </a>
                <!-- AÑADIDO: Icono de Instagram -->
                <a href="https://www.instagram.com/jaco.gallery/" target="_blank" rel="noopener noreferrer" class="transform hover:scale-110 transition-transform duration-300">
                    <img src="instagram.png" alt="Síguenos en Instagram" class="h-8 w-8">
                </a>
                <!-- AÑADIDO: Icono de TikTok -->
                <a href="https://www.tiktok.com/@jaco.gallery" target="_blank" rel="noopener noreferrer" class="transform hover:scale-110 transition-transform duration-300">
                    <img src="tiktok.png" alt="Síguenos en TikTok" class="h-8 w-8">
                </a>
            </div>

            <p class="text-sm text-stone-500">&copy; 2025 JACO Gallery. Todos los derechos reservados.</p>
        </div>
    </footer>

    <!-- Firebase SDKs --><script type="module">
        // Importar las funciones necesarias de Firebase
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        // *** CORRECCIÓN: Quitar 'signInWithCustomToken' y dejar solo 'signInAnonymously' ***
        import { getAuth, signInAnonymously, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        // *** AÑADIDO: Importar 'query' y 'where' para la búsqueda de artistas ***
        import { getFirestore, collection, getDocs, setLogLevel, query, where } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // --- Configuración de Firebase (ESTÁTICA) ---
        // *** CORRECCIÓN: Volvemos a la configuración estática que proporcionaste. ***
        // Las variables dinámicas (__firebase_config) no están funcionando en tu entorno
        // y causan el "Error de configuración de Firebase".
        const firebaseConfig = {
            apiKey: "AIzaSyAjO3lCScLhxMWtlqmg18tphyCl3Wc7DeA",
            authDomain: "jaco-71612.firebaseapp.com",
            projectId: "jaco-71612",
            storageBucket: "jaco-71612.firebasestorage.app",
            messagingSenderId: "374613949635",
            appId: "1:374613949635:web:3a9708983c324daa99f676"
        };
        
        // *** CORRECCIÓN: Usamos el projectId de la configuración estática para las rutas. ***
        const appId = firebaseConfig.projectId; 
        console.log("Usando appId para rutas de base de datos:", appId); // Debería decir 'jaco-71612'


        let firebaseApp, db, auth;
        let filterGrid; // Hacer la función de filtro global en el módulo

        // --- Lógica de Pestañas Verticales (Servicios) ---
        function setupServiceTabListeners() {
            const vTabButtonsContainer = document.getElementById('v-tab-buttons');

            if (vTabButtonsContainer) {
                vTabButtonsContainer.addEventListener('click', (event) => {
                    const clickedButton = event.target.closest('.v-tab-btn');
                    if (!clickedButton) return;

                    if (vTabButtonsContainer.querySelector('.active')) {
                        vTabButtonsContainer.querySelector('.active').classList.remove('active');
                    }
                    clickedButton.classList.add('active');
                    
                    const tabId = clickedButton.getAttribute('data-tab');
                    
                    document.querySelectorAll('.v-tab-content').forEach(content => {
                        content.classList.add('hidden');
                    });
                    
                    const activeContent = document.getElementById('v-tab-' + tabId);
                    if (activeContent) {
                        activeContent.classList.remove('hidden');
                    }
                });
            }
        }

        // --- Renderizado de Servicios ---
        function renderServicios(servicios) {
            const vTabButtonsContainer = document.getElementById('v-tab-buttons');
            const vTabContentContainer = document.getElementById('v-tab-content-container');

            vTabButtonsContainer.innerHTML = '';
            vTabContentContainer.innerHTML = '';

            servicios.forEach((servicio, index) => {
                const buttonHTML = `<button class="v-tab-btn ${index === 0 ? 'active' : ''}" data-tab="${servicio.id}">${servicio.nombre}</button>`;
                vTabButtonsContainer.innerHTML += buttonHTML;

                // --- MODIFICADO: De Cuadrícula a Carrusel ---
                let carouselHTML = '';
                if (servicio.imagenes && servicio.imagenes.length > 0) {
                    let slidesHTML = '';
                    let dotsHTML = '';

                    // Bucle sobre TODAS las imágenes, sin .slice(0, 5)
                    servicio.imagenes.forEach((imgUrl, imgIndex) => {
                        slidesHTML += `
                            <div class="carousel-slide">
                                <img src="${imgUrl}" alt="${servicio.nombre} - Imagen ${imgIndex + 1}" class="w-full h-96 object-contain bg-stone-100" onerror="this.src='https://placehold.co/800x400/f8f8f8/c0392b?text=Imagen+No+Disponible&font=inter'"> <!-- CAMBIADO a object-contain y bg-stone-100 -->
                            </div>
                        `;
                        dotsHTML += `
                            <button class="carousel-dot ${imgIndex === 0 ? 'active' : ''}" data-slide-index="${imgIndex}"></button>
                        `;
                    });

                    // Construir el contenedor del carrusel
                    carouselHTML = `
                        <div class="carousel-container w-full h-96 mt-8" data-service-id="${servicio.id}">
                            <div class="carousel-track">
                                ${slidesHTML}
                            </div>
                            <!-- Solo mostrar botones y puntos si hay más de 1 imagen -->
                            ${servicio.imagenes.length > 1 ? `
                                <button class="carousel-btn prev">‹</button>
                                <button class="carousel-btn next">›</button>
                                <div class="carousel-dots">
                                    ${dotsHTML}
                                </div>
                            ` : ''}
                        </div>
                    `;
                }
                // --- FIN DE LA MODIFICACIÓN ---

                const contentHTML = `
                    <div id="v-tab-${servicio.id}" class="v-tab-content ${index === 0 ? '' : 'hidden'}">
                        <h4 class="text-3xl font-bold text-stone-800 mb-6">${servicio.nombre}</h4>
                        <p class="text-lg text-stone-700">${servicio.descripcion}</p>
                        ${carouselHTML} <!-- HTML del carrusel insertado aquí -->
                    </div>
                `;
                vTabContentContainer.innerHTML += contentHTML;
            });

            setupServiceTabListeners();
            initializeCarousels(); // <!-- AÑADIR esta llamada
        }

        // --- NUEVO: Lógica para inicializar todos los carruseles ---
        function initializeCarousels() {
            const carousels = document.querySelectorAll('.carousel-container');

            carousels.forEach(container => {
                const track = container.querySelector('.carousel-track');
                const slides = container.querySelectorAll('.carousel-slide');
                const prevBtn = container.querySelector('.carousel-btn.prev');
                const nextBtn = container.querySelector('.carousel-btn.next');
                const dots = container.querySelectorAll('.carousel-dot');
                
                if (!track || !prevBtn || !nextBtn || slides.length <= 1) {
                    // No inicializar si faltan partes o si solo hay una imagen
                    return; 
                }

                let currentIndex = 0;
                const totalSlides = slides.length;

                // Función para actualizar el carrusel
                function updateCarousel(index) {
                    // Mover el track
                    track.style.transform = `translateX(-${index * 100}%)`;
                    
                    // Actualizar dots
                    dots.forEach((dot, dotIndex) => {
                        dot.classList.toggle('active', dotIndex === index);
                    });
                    
                    currentIndex = index;
                }

                // Botón Siguiente
                nextBtn.addEventListener('click', () => {
                    let nextIndex = currentIndex + 1;
                    if (nextIndex >= totalSlides) {
                        nextIndex = 0; // Loop al inicio
                    }
                    updateCarousel(nextIndex);
                });

                // Botón Anterior
                prevBtn.addEventListener('click', () => {
                    let prevIndex = currentIndex - 1;
                    if (prevIndex < 0) {
                        prevIndex = totalSlides - 1; // Loop al final
                    }
                    updateCarousel(prevIndex);
                });

                // Puntos
                dots.forEach(dot => {
                    dot.addEventListener('click', () => {
                        const index = parseInt(dot.getAttribute('data-slide-index'));
                        updateCarousel(index);
                    });
                });
            });
        }


        // --- Carga de Servicios desde Firestore ---
        async function loadServicios(db) {
            const servicesCollectionPath = `/artifacts/${appId}/public/data/servicios`;
            const vTabContentContainer = document.getElementById('v-tab-content-container');
            const loadingMessage = document.getElementById('servicios-loading');

            try {
                const collectionRef = collection(db, servicesCollectionPath);
                let querySnapshot = await getDocs(collectionRef);

                const servicios = [];
                querySnapshot.forEach((doc) => {
                    servicios.push({ id: doc.id, ...doc.data() });
                });
                
                servicios.sort((a, b) => a.nombre.localeCompare(b.nombre));
                
                if (servicios.length > 0) {
                    renderServicios(servicios);
                } else {
                    if (loadingMessage) loadingMessage.innerText = "No se encontraron productos o servicios en la base de datos.";
                }

            } catch (error) {
                console.error("Error al cargar los servicios: ", error);
                if (loadingMessage) loadingMessage.innerText = "Error al cargar los servicios. Revisa la consola para más detalles.";
            }
        }
        
        // --- Carga de Catálogo desde Firestore ---
        async function loadCatalogo(db) {
            const catalogoCollectionPath = `/artifacts/${appId}/public/data/Catalogo`;
            const galleryGrid = document.getElementById('gallery-grid');
            const loadingMessage = document.getElementById('catalogo-loading');

            try {
                const collectionRef = collection(db, catalogoCollectionPath);
                let querySnapshot = await getDocs(collectionRef);

                const obras = [];
                querySnapshot.forEach((doc) => {
                    obras.push({ id: doc.id, ...doc.data() });
                });

                if (obras.length > 0) {
                    galleryGrid.innerHTML = ''; 

                    obras.forEach(obra => {
                        const nombre = obra.nombre || "Sin Título";
                        const artista = obra.artista || "Artista Desconocido"; // Este campo ahora es solo para mostrar, no para filtrar
                        const categoria = (obra.categoria || "general").toLowerCase(); 
                        const medidas = obra.medidas || "";
                        const imageUrl = obra.imageUrl || `https://placehold.co/600x400/f8f8f8/c0392b?text=${encodeURIComponent(nombre)}&font=inter`;

                        const obraHTML = `
                            <div class="gallery-item group overflow-hidden rounded-lg shadow-lg js-observe" data-category="${categoria}">
                                <div class="relative">
                                    <img src="${imageUrl}" alt="Obra de Arte: ${nombre}" class="w-full h-96 object-contain bg-stone-100" onerror="this.src='https://placehold.co/600x400/f8f8f8/c0392b?text=Imagen+No+Disponible&font=inter'"> <!-- CAMBIADO a object-contain y bg-stone-100, quitado transform -->
                                    <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-60 transition-all duration-500 flex items-end p-6">
                                        <div class="text-white opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-y-4 group-hover:translate-y-0">
                                            <h3 class="text-2xl font-bold">${nombre}</h3>
                                            <p class="text-sm">${artista} - ${categoria.charAt(0).toUpperCase() + categoria.slice(1)}</p>
                                            <p class="text-sm mt-1">${medidas}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        `;
                        galleryGrid.innerHTML += obraHTML;
                    });
                     // Re-observar elementos dinámicos
                     observeDynamicElements();
                } else {
                    if (loadingMessage) loadingMessage.innerText = "No se encontraron obras en el catálogo.";
                }

            } catch (error) {
                console.error("Error al cargar el catálogo: ", error);
                if (loadingMessage) loadingMessage.innerText = "Error al cargar el catálogo. Revisa la consola para más detalles.";
            }
        }

        // --- NUEVO: Carga de Obras por Artista ---
        async function getObrasPorArtista(db, artistaId) {
            const obras = [];
            const catalogoPath = `/artifacts/${appId}/public/data/Catalogo`;
            // Esta consulta busca en 'Catalogo' donde el campo 'artistaId' coincida
            const q = query(collection(db, catalogoPath), where("artistaId", "==", artistaId));
            
            try {
                const querySnapshot = await getDocs(q);
                querySnapshot.forEach((doc) => {
                    obras.push(doc.data());
                });
            } catch (e) {
                console.error(`Error al buscar obras para el artista ${artistaId}: `, e);
            }
            return obras; // Devuelve un arreglo de objetos de obras
        }

        // --- NUEVO: Renderizado de Artistas ---
        async function renderArtistas(db, artistas) {
            const container = document.getElementById('artistas-container');
            if (!container) return;
            container.innerHTML = ''; // Limpiar "cargando"

            // Creamos un arreglo de promesas para cargar todas las obras de los artistas
            const renderPromises = artistas.map(async (artista) => {
                const artistaData = artista.data;
                const artistaId = artista.id; // El ID del documento (ej: "joaquin-corona")

                // 1. Buscar las obras de este artista
                const obras = await getObrasPorArtista(db, artistaId);

                // 2. Construir el HTML para el carrusel horizontal de obras
                let obrasHTML = '';
                if (obras.length > 0) {
                    obras.forEach(obra => {
                        obrasHTML += `
                            <div class="obra-card w-64 flex-shrink-0">
                                <img src="${obra.imageUrl || 'https://placehold.co/300x200'}" alt="${obra.nombre}" class="w-full h-48 object-contain bg-stone-100 rounded-lg shadow-md" onerror="this.src='https://placehold.co/600x400/f8f8f8/c0392b?text=Obra+No+Disponible&font=inter'"> <!-- CAMBIADO a object-contain y bg-stone-100 -->
                                <p class="text-sm font-semibold mt-2 text-stone-700">${obra.nombre || 'Sin Título'}</p>
                            </div>
                        `;
                    });
                } else {
                    obrasHTML = '<p class="text-sm text-stone-500">No hay obras destacadas para este artista.</p>';
                }

                // 3. Construir la tarjeta completa del artista
                const artistaHTML = `
                    <div class="artist-card flex flex-col md:flex-row gap-8 md:gap-12 items-start">
                        <img src="${artistaData.fotoUrl || 'https://placehold.co/400x400/e7e5e4/292524?text=Artista&font=inter'}" alt="${artistaData.nombre}" class="w-full md:w-1/4 h-auto rounded-lg shadow-xl aspect-square object-contain bg-stone-100" onerror="this.src='https://placehold.co/400x400/e7e5e4/292524?text=Artista&font=inter'"> <!-- CAMBIADO a object-contain y bg-stone-100 -->
                        <div class="md:w-3/4">
                            <h4 class="text-3xl font-bold text-stone-800 mb-2">${artistaData.nombre || 'Nombre de Artista'}</h4>
                            <p class="text-lg text-stone-700 leading-relaxed">${artistaData.semblanza || 'Semblanza no disponible.'}</p>
                            <h5 class="text-xl font-semibold text-stone-800 mt-8 mb-4">Obras Destacadas:</h5>
                            <div class="obras-scroller flex overflow-x-auto gap-6 pb-4 no-scrollbar">
                                ${obrasHTML}
                            </div>
                        </div>
                    </div>
                `;
                return artistaHTML;
            });

            // Esperar que todas las promesas se resuelvan y unirlas
            const allArtistasHTML = await Promise.all(renderPromises);
            container.innerHTML = allArtistasHTML.join('<hr class="my-16 border-stone-200">'); // Separador elegante
        }


        // --- NUEVO: Carga de Artistas desde Firestore ---
        async function loadArtistas(db) {
            const artistasCollectionPath = `/artifacts/${appId}/public/data/Artistas`;
            const loadingMessage = document.getElementById('artistas-loading');
            
            try {
                const collectionRef = collection(db, artistasCollectionPath);
                const querySnapshot = await getDocs(collectionRef);
                
                const artistas = [];
                querySnapshot.forEach((doc) => {
                    artistas.push({ id: doc.id, data: doc.data() });
                });

                // Ordenar por nombre
                artistas.sort((a, b) => (a.data.nombre || "").localeCompare(b.data.nombre || ""));

                if (artistas.length > 0) {
                    await renderArtistas(db, artistas); // Llamar a la función de renderizado
                } else {
                    if (loadingMessage) loadingMessage.innerText = "No se encontraron artistas en la base de datos.";
                }
            } catch (error) {
                console.error("Error al cargar los artistas: ", error);
                if (loadingMessage) loadingMessage.innerText = "Error al cargar artistas. Revisa la consola.";
            }
        }

        // --- Observador de Animaciones (Separado para re-usar) ---
        let observer;
        function observeDynamicElements() {
            // Selecciona todos los elementos .js-observe que *aún no han sido animados*
            const elementsToObserve = document.querySelectorAll('.js-observe:not(.animate-fade-in)');
            
            if (!observer) {
                observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.style.opacity = '1';
                            entry.target.classList.add('animate-fade-in');
                            observer.unobserve(entry.target);
                        }
                    });
                }, {
                    threshold: 0.1 
                });
            }

            elementsToObserve.forEach(el => {
                observer.observe(el);
            });
        }


        // --- Inicialización de Firebase y Carga de Datos ---
        async function initializeAppFirebase() {
            
            try {
                firebaseApp = initializeApp(firebaseConfig);
                db = getFirestore(firebaseApp);
                auth = getAuth(firebaseApp);
                setLogLevel('Debug'); 

                onAuthStateChanged(auth, async (user) => {
                    if (user) {
                        console.log("Usuario autenticado (Anónimamente):", user.uid);
                        // Cargar todas las secciones
                        await loadServicios(db);
                        await loadCatalogo(db); 
                        await loadArtistas(db); // <!-- AÑADIDO -->
                    } else {
                        // *** CORRECCIÓN: Solo intentar signInAnonymously. ***
                        console.log("Usuario no autenticado, intentando iniciar sesión anónima...");
                        try {
                            await signInAnonymously(auth);
                        } catch (authError) {
                            console.error("Error en signInAnonymously:", authError);
                            // Este error es común si el inicio de sesión anónimo no está habilitado en Firebase.
                            const errorMsg = "Error de autenticación. Revisa que 'Inicio de sesión anónimo' esté habilitado en Firebase.";
                            document.getElementById('servicios-loading').innerText = errorMsg;
                            document.getElementById('catalogo-loading').innerText = errorMsg;
                            document.getElementById('artistas-loading').innerText = errorMsg; // <!-- AÑADIDO -->
                        }
                    }
                });

                // *** CORRECCIÓN: Simplificar el inicio de sesión inicial. ***
                if (!auth.currentUser) {
                      console.log("Intentando signInAnonymously (inicial)...");
                      await signInAnonymously(auth);
                }

            } catch (error) {
                console.error("Error al inicializar Firebase o autenticar: ", error);
                const errorGeneral = "Error al conectar con la base de datos.";
                document.getElementById('servicios-loading').innerText = errorGeneral;
                document.getElementById('catalogo-loading').innerText = errorGeneral;
                document.getElementById('artistas-loading').innerText = errorGeneral; // <!-- AÑADIDO -->
            }
        }

        // --- Ejecución Principal ---
        document.addEventListener('DOMContentLoaded', function () {
            
            // --- Inicializar EmailJS ---
            // REEMPLAZA 'TU_PUBLIC_KEY' con la llave pública que obtengas en EmailJS (Account > Public Key)
            // emailjs.init("TU_PUBLIC_KEY"); // COMENTADO PARA USAR MAKE

            // --- Lógica del Menú Móvil ---
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });

            // --- Lógica del Header Fijo (Sticky) ---
            const header = document.getElementById('header');
            const navLinks = [
                document.getElementById('nav-link-1'),
                document.getElementById('nav-link-esencia'),
                document.getElementById('nav-link-historia'),
                document.getElementById('nav-link-artistas'), // <!-- AÑADIDO -->
                document.getElementById('nav-link-2'),
                document.getElementById('nav-link-servicios'),
                document.getElementById('nav-link-3'),
            ];
            const mobileButton = document.getElementById('mobile-menu-button');

            const updateHeaderStyle = () => {
                if (window.scrollY > 50) {
                    header.classList.add('header-glass');
                    header.classList.remove('py-5');
                    header.classList.add('py-4');
                    navLinks.forEach(link => {
                        if (link) {
                            link.classList.remove('text-white');
                            link.classList.add('text-stone-700');
                        }
                    });
                    mobileButton.classList.add('text-stone-900');
                    mobileButton.classList.remove('text-white');

                } else {
                    header.classList.remove('header-glass');
                    header.classList.remove('py-4');
                    header.classList.add('py-5');
                    navLinks.forEach(link => {
                        if (link) {
                            link.classList.remove('text-stone-700');
                            link.classList.add('text-white');
                        }
                    });
                    mobileButton.classList.add('text-white');
                    mobileButton.classList.remove('text-stone-900');
                }
            };
            
            window.addEventListener('scroll', updateHeaderStyle);
            updateHeaderStyle(); 

            // --- Lógica de Filtro de Galería (Definición) ---
            const filterContainer = document.getElementById('filter-container');
            
            // Definir filterGrid en un alcance más amplio
            filterGrid = (filterValue) => {
                // Se necesita 'galleryItems' aquí, así que lo buscamos CADA VEZ que se filtra
                // Esto asegura que funcione con los items cargados dinámicamente
                const galleryItems = document.querySelectorAll('.gallery-item');
                
                if (filterContainer.querySelector('.active')) {
                    filterContainer.querySelector('.active').classList.remove('active');
                }
                const newActiveButton = filterContainer.querySelector(`[data-filter="${filterValue}"]`);
                if (newActiveButton) {
                    newActiveButton.classList.add('active');
                }


                galleryItems.forEach(item => {
                    const itemCategory = item.getAttribute('data-category');
                    
                    item.style.transition = 'opacity 0.3s ease, transform 0.3s ease';
                    item.style.opacity = '0';
                    item.style.transform = 'scale(0.95)';
                    
                    setTimeout(() => {
                            if (filterValue === 'all' || filterValue === itemCategory) {
                            item.style.display = 'block';
                            setTimeout(() => {
                                item.style.opacity = '1';
                                item.style.transform = 'scale(1)';
                            }, 50); 
                        } else {
                            item.style.display = 'none';
                        }
                    }, 300);
                });
            };

            // Listener para los botones de filtro del catálogo
            if (filterContainer) {
                filterContainer.addEventListener('click', (event) => {
                    const button = event.target.closest('.filter-btn');
                    if (button) {
                        const filterValue = button.getAttribute('data-filter');
                        filterGrid(filterValue);
                    }
                });
            }

            // --- Lógica de Pestañas (Tabs) para "Nosotros" ---
            const tabButtonsContainer = document.getElementById('tab-buttons');
            const tabContents = document.querySelectorAll('.tab-content');
            
            if (tabButtonsContainer) {
                tabButtonsContainer.addEventListener('click', (event) => {
                    const clickedButton = event.target.closest('.tab-btn');
                    if (!clickedButton) return;

                    if (tabButtonsContainer.querySelector('.active')) {
                        tabButtonsContainer.querySelector('.active').classList.remove('active');
                    }
                    clickedButton.classList.add('active');
                    
                    const tabId = clickedButton.getAttribute('data-tab');
                    
                    tabContents.forEach(content => {
                        content.classList.add('hidden');
                    });
                    
                    const activeContent = document.getElementById('tab-' + tabId);
                    if (activeContent) {
                        activeContent.classList.remove('hidden');
                    }
                });
            }

            // --- Lógica del Formulario de Contacto (Make/Webhook & WhatsApp) ---
            const contactForm = document.getElementById('contact-form');
            const btnSendWhatsapp = document.getElementById('btn-send-whatsapp');
            const formResponse = document.getElementById('form-response');

            // Función helper para obtener valores del formulario
            const getFormValues = () => {
                return {
                    name: document.getElementById('name').value,
                    email: document.getElementById('email').value,
                    message: document.getElementById('message').value
                };
            };

            if (contactForm) {
                // Opción 1: Enviar por Correo (usando Make Webhook)
                contactForm.addEventListener('submit', function(e) {
                    e.preventDefault(); // Evitar recarga

                    // Mostrar estado de carga
                    const btnSubmit = contactForm.querySelector('button[type="submit"]');
                    const originalText = btnSubmit.textContent;
                    btnSubmit.textContent = 'Enviando...';
                    btnSubmit.disabled = true;

                    const { name, email, message } = getFormValues();

                    // URL DEL WEBHOOK DE MAKE (Reemplaza esto con tu URL real)
                    const makeWebhookUrl = "https://hook.us2.make.com/cwjnc02hnok8g643x24kf888osw3ed6m";

                    // Datos a enviar
                    const data = {
                        name: name,
                        email: email,
                        message: message
                    };

                    fetch(makeWebhookUrl, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(data)
                    })
                    .then(response => {
                        if (response.ok) {
                            btnSubmit.textContent = originalText;
                            btnSubmit.disabled = false;
                            
                            // Éxito
                            if(formResponse) {
                                formResponse.textContent = "Mensaje enviado exitosamente";
                                formResponse.className = "mt-4 text-green-600 font-bold text-center text-lg";
                                formResponse.classList.remove('hidden');
                                contactForm.reset();
                                setTimeout(() => { formResponse.classList.add('hidden'); }, 5000);
                            }
                        } else {
                            throw new Error('Error en la respuesta del webhook');
                        }
                    })
                    .catch(error => {
                        btnSubmit.textContent = originalText;
                        btnSubmit.disabled = false;
                        
                        console.error('Error al enviar datos a Make:', error);
                        if(formResponse) {
                            formResponse.textContent = "Error al enviar el mensaje. Por favor intenta por WhatsApp.";
                            formResponse.className = "mt-4 text-red-600 font-bold text-center text-lg";
                            formResponse.classList.remove('hidden');
                        }
                    });
                });
            }

            // Opción 2: Enviar por WhatsApp (Botón secundario)
            if (btnSendWhatsapp) {
                btnSendWhatsapp.addEventListener('click', function() {
                    const { name, email, message } = getFormValues();
                    
                    // Validación básica
                    if (!name || !message) {
                        alert("Por favor ingresa al menos tu nombre y un mensaje.");
                        return;
                    }

                    const whatsappNumber = "528117640430"; // Formato internacional para México
                    const text = `Hola, soy ${name}.%0AEmail: ${email}%0A%0AMensaje: ${message}`;
                    
                    const url = `https://wa.me/${whatsappNumber}?text=${text}`; // No usamos encodeURIComponent completo porque ya formateamos %0A manual, pero idealmente se usa encodeURIComponent(str)
                    
                    // Abrir en nueva pestaña
                    window.open(url, '_blank');
                });
            }

            // --- Animaciones de Scroll (Intersection Observer) ---
            observeDynamicElements(); // Llama al observador para los elementos estáticos
            
            // (Tuve que mover la definición de 'observer' y 'observeDynamicElements' 
            // fuera de esta función para que 'loadCatalogo' pueda llamarla)

            // --- Iniciar Firebase ---
            initializeAppFirebase();
        });
    </script>

    <!-- Botpress Webchat Integration -->
    <!-- Scripts oficiales proporcionados por Botpress -->
    <script src="https://cdn.botpress.cloud/webchat/v3.3/inject.js" defer></script>
    <script src="https://files.bpcontent.cloud/2025/07/10/02/20250710022915-W3G2WVGL.js" defer></script>

</body>
</html>